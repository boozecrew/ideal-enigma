<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Rock Paper Scissors</h1>
    <button onclick="playGame('rock')">Rock</button>
    <button onclick="playGame('paper')">Paper</button>
    <button onclick="playGame('scissors')">Scissors</button>
    <button onclick="
        score.wins=0;
        score.losses=0;
        score.ties=0;
        localStorage.removeItem('score');
    ">Reset</button>
    


    <p id="result"></p>
    <p id="score"></p>
    
    <script>
        let score = JSON.parse(localStorage.getItem('score')) || {
        wins: 0, 
        losses: 0,
        ties: 0
        };
        
        /*if (!score) {
            score = {
                wins: 0, 
                losses: 0,
                ties: 0
            };
        }*/

        function playGame(playerMove) {
            const computerMove = pickComputerMove();
            let result = '';

            if (playerMove === 'scissors') {
                if (computerMove === 'rock') {
                    result = 'You lose.';
                    score.losses++;
                } else if (computerMove === 'paper') {
                    result = 'You win.';
                    score.wins++;
                } else if (computerMove === 'scissors') {
                    result = 'Tie.';
                    score.ties++;
                }
            } else if (playerMove === 'paper') {
                if (computerMove === 'rock') {
                    result = 'You win.';
                    score.wins++;
                } else if (computerMove === 'paper') {
                    result = 'Tie.';
                    score.ties++;
                } else if (computerMove === 'scissors') {
                    result = 'You lose.';
                    score.losses++;
                }
            } else if (playerMove === 'rock') {
                if (computerMove === 'rock') {
                    result = 'Tie.';
                    score.ties++;
                } else if (computerMove === 'paper') {
                    result = 'You lose.';
                    score.losses++;
                } else if (computerMove === 'scissors') {
                    result = 'You win.';
                    score.wins++;
                }
            }
            if (result === 'You win.') {
                score.wins+=1;
            } else if (result === 'You lose.') {
                score.losses+=1;
            } else if (result === 'Tie.') {
                score.ties+=1;
            } 

            localStorage.setItem('score',JSON.stringify(score));


            document.getElementById('result').innerText = result;
            document.getElementById('score').innerText = `Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`;
        }

        function pickComputerMove() {
            const moves = ['rock', 'paper', 'scissors'];
            const randomIndex = Math.floor(Math.random() * moves.length);
            return moves[randomIndex];
        } 

        /*const product2 = {
            name: 'shirt',
            'delivery-time':'1 day',
            rating:{
                stars: 5,
                count: 100
            },

            fun: function function1 (){
                console.log('function inside object');
            }
        };
        console.log(product2.rating);
        product2.fun();

        console.log(JSON.stringify(product2));
        const jsonString = JSON.stringify(product2);
        console.log(jsonString); */

        console.log('hello.')
    </script>
</body>
</html>
